!function(n){"use strict";var e,t,o,i="goodpopup",s="js-goodpopup-close",r="goodpopup_visible",l="goodpopup-inner-content_destroyed",c="goodpopup-inner-content-element_hided",a="goodpopup-inner-content-element_hidedfull",f="goodpopup-inner-content-element_pseudohided",p=!1,u={},d=[],h={isSVGSupported:!!("object"==typeof Modernizr&&"boolean"==typeof Modernizr.inlinesvg&&Modernizr.inlinesvg||((o=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"==(o.firstChild&&o.firstChild.namespaceURI))),whichTransitionEvent:function(){var n,e=document.createElement("div"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",WebkitTransition:"webkitTransitionEnd"};for(n in t)if("undefined"!=typeof e.style[n])return t[n];return!1}()},g=function(e,t,o){function i(n){"undefined"!=typeof console&&"function"==typeof console.error?console.error(n):alert(n)}switch(t){case"NOT_FOUND":var s=n("#"+e);return s.length>0?(i("Please initialize popup `"+e+"`: `$('#"+e+"').goodpopup();`"),s):(i("Popup template `"+e+"` doesn't exist"),e);case"WRONG_OPTIONS":return i("Wrong options object in method `setOptions` on popup `"+e+"`"),o;default:return r="Problem with popup","undefined"!=typeof console&&"function"==typeof console.trace?console.trace(r):alert(r),e}var r},v='<span class="goodpopup-close js-goodpopup-close">'+(h.isSVGSupported?'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" enable-background="new 0 0 16 16" class="goodpopup-close-svg"><path class="goodpopup-close-svg__path" d="m15.8 13.5l-5.4-5.5 5.5-5.4c.2-.2.2-.6 0-.8l-1.6-1.6c-.1-.1-.3-.2-.4-.2-.2 0-.3.1-.4.2l-5.5 5.4-5.5-5.4c-.1-.1-.2-.2-.4-.2s-.3.1-.4.2l-1.5 1.5c-.2.2-.2.6 0 .8l5.4 5.5-5.5 5.5c0 .1-.1.2-.1.4 0 .2.1.3.2.4l1.6 1.6c.1.1.2.1.4.1.1 0 .3-.1.4-.2l5.4-5.4 5.4 5.5c.1.1.3.2.4.2.1 0 .3-.1.4-.2l1.6-1.6c.1-.1.2-.3.2-.4 0-.2-.1-.3-.2-.4"></path></svg>':'<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAIVBMVEUAAAD////////////////////////////////////////PIev5AAAACnRSTlMAMO9gn88Q369Agi28KgAAAQtJREFUeAGl10FOw1AMRVEnaZLi/S8YoY/0ACMOUt/w1+cOOqlaa9ve51X/3nX2vVX24ftrwb573757FIZfhfhV2MqrbfkUls8TNs7z4MI8//Hgwjw/u10YPufV7cL0WT1RgO+6Thf+8M9CAf5RhQL9+ggFeBTgUYBHgR6FPupzR8OjAI8CPAvyLsC7AM+CvQvza0GBHgV77LB3wd4FexfsXbB/PWDvgr0L9i7Ys2Df/faCxy8vPArwKMCjIH8cKMhXoUCPAj0K9CjYo2CPgj0K9tnjtwI9Cudl74I9Crc8CkWPQu3wKNy17fCzMP402c9CfAr2KcSnAD8K8SnQpxCfgn0K8Sns9inEvwMkUkuut7bS3AAAAABJRU5ErkJggg==" alt="" class="goodpopup-close__png"/>')+"</span>",O=function(n,e,t){return'<div class="goodpopup-inner-content-element '+(t?"goodpopup-inner-content-element_withclosebutton":"")+'">'+Handlebars.compile(n)("object"!=typeof e?{}:e)+(t?v:"")+"</div>"},C={callbackBeforeOpen:function(){},callbackAfterOpen:function(){},callbackBeforeClose:function(){},callbackAfterClose:function(){},isPrerendered:!1,isIframe:!1,isDetachable:!1,isOuterClickClosing:!0,hasCloseButton:!0,keyCodeForClosing:27,forceClosing:{click:!0,keydown:!0,button:!1},data:{}};n.fn.goodpopup=function(o){return this.each(function(w,m){var k=n(m),A=k.attr("id"),T=u[A],b=n.extend(!0,{},C,o,k.data());void 0===T?u[A]=new function(o,C){var w,m,k=this,A=o.attr("id"),T=n.extend(!0,{},C),b=!1,E=!1;function y(n){var e=k.getOptions().keyCodeForClosing;"number"==typeof e&&(k.setOptions({keyCodeForClosing:[e]}),e=k.getOptions().keyCodeForClosing);for(var t=0;t<e.length;t++)n.keyCode===e[t]&&k.close.call(k,k.getOptions().forceClosing.keydown)}function S(e){var t=n(e.target);k.getOptions().isOuterClickClosing&&0===t.parents(".js-goodpopup-inner-content").length&&!t.hasClass(s)&&k.close.call(k,k.getOptions().forceClosing.click)}this.open=function(){if(p)if(this.isRendered()){if(!this.isHided())return this;n.each(u,function(n,e){if(e.isRendered()&&!e.isHided())return e._hide(function(){k.getOptions().callbackBeforeOpen.call(k),k._show.call(k)}),!1})}else n.each(u,function(n,e){if(e.isRendered()&&!e.isHided())return e._hide(function(){k.getOptions().callbackBeforeOpen.call(k),k._renderContent.call(k)}),!1});else k.getOptions().callbackBeforeOpen.call(k),k._renderContent.call(k);return this},this.close=function(n){if(!p||!this.isRendered())return this;var e=n||!1;if(d.length>0)if(e){for(var t=d.length;t>0;t--)d[t-1]._destroyContent(!1);this._destroyContent(!0)}else this._destroyContent(!1,function(){d[d.length-1].getOptions().callbackBeforeOpen.call(d[d.length-1]),d[d.length-1]._show.call(d[d.length-1])});else this._destroyContent(!0);return this},this.isRendered=function(){return b},this.isHided=function(){return E},this.setOptions=function(e){return n.isPlainObject(e)?e.hasOwnProperty("forceClosing")&&!n.isPlainObject(e.forceClosing)?g(A,"WRONG_OPTIONS",e):(e.hasOwnProperty("hasCloseButton")&&e.hasCloseButton!=k.getOptions().hasCloseButton&&k.getPopupContent()&&(e.hasCloseButton?(m.append(v),(w=m.find("."+s)).on("click."+i,function(){k.close.call(k,k.getOptions().forceClosing.button)})):(w&&0!==w.length||(w=m.find("."+s)),w.remove())),n.extend(!0,T,e),this):g(A,"WRONG_OPTIONS",e)},this.getOptions=function(){return T},this.getPopupContent=function(){return m},this.getPopupId=function(){return A},this._renderContent=function(){if(this.isRendered()&&!k.getOptions().isIframe&&!k.getOptions().isPrerendered)return this;var l=function(){if((w=m.find("."+s)).on("click."+i,function(){k.close.call(k,k.getOptions().forceClosing.button)}),n(document).off("keydown."+i).on("keydown."+i,y),e.off("click."+i).on("click."+i,S),p)t=function(){k.getOptions().callbackAfterOpen.call(k)},h.whichTransitionEvent&&m.off(h.whichTransitionEvent+".pluginSuffix").on(h.whichTransitionEvent+".pluginSuffix",function(n){n.target===m[0]&&(m.off(h.whichTransitionEvent+".pluginSuffix"),t.call(k))}),setTimeout(function(){m.removeClass(f)},1),h.whichTransitionEvent||t.call(k),b=!0,E=!1,p=!0;else{var t=function(){k.getOptions().callbackAfterOpen.call(k)};n("html").addClass("noscroll"),h.whichTransitionEvent&&e.off(h.whichTransitionEvent+".pluginSuffix").on(h.whichTransitionEvent+".pluginSuffix",function(n){n.target===e[0]&&(e.off(h.whichTransitionEvent+".pluginSuffix"),t.call(k))}),e.addClass(r),h.whichTransitionEvent||t.call(k),b=!0,E=!1,p=!0}};return k.getOptions().isPrerendered||(k.getOptions().isDetachable||k.getOptions().isIframe?void 0===m&&(m=n(O(o.html(),k.getOptions().data,k.getOptions().hasCloseButton))):m=n(O(o.html(),k.getOptions().data,k.getOptions().hasCloseButton))),p&&m.addClass(f),!k.getOptions().isPrerendered&&!k.getOptions().isIframe||k.getOptions().isIframe&&!this.isRendered()?t.append(m).promise().done(function(){l.call(k)}):(k.getOptions().isPrerendered&&this.setOptions({isPrerendered:!1}),m.removeClass(c+" "+a),l.call(k)),this},this._rerenderContent=function(e){var t=m;return w.off("click."+i),(m=n(O(o.html(),k.getOptions().data,k.getOptions().hasCloseButton))).addClass(c+" "+a),t.after(m).promise().done(function(){t.remove(),w=m.find("."+s),"function"==typeof e&&e()}),this},this._destroyContent=function(t,o){if(!k.isRendered())return this;k.getOptions().callbackBeforeClose.call(k);for(var s=0;s<d.length;s++)if(d[s]===this){d.splice(s,1);break}if(void 0!==t&&t){var u=function(){k.getOptions().isIframe?m.addClass(c+" "+a).removeClass(l):k.getOptions().isDetachable?m.detach().removeClass(c+" "+a+" "+f+" "+l):(m.remove(),m=undefined),k.getOptions().callbackAfterClose.call(k)};e.off("click."+i),n(document).off("keydown."+i),w.off("click."+i),h.whichTransitionEvent&&e.off(h.whichTransitionEvent+".pluginSuffix").on(h.whichTransitionEvent+".pluginSuffix",function(n){n.target===e[0]&&(e.off(h.whichTransitionEvent+".pluginSuffix"),u.call(k))}),e.removeClass(r),h.whichTransitionEvent||u.call(k),n("html").removeClass("noscroll"),p=!1,E=!1,k.getOptions().isIframe||(b=!1)}else u=function(){k.getOptions().isIframe?m.addClass(c+" "+a).removeClass(l):k.getOptions().isDetachable?m.detach().removeClass(c+" "+a+" "+f+" "+l):(m.remove(),m=undefined),k.getOptions().callbackAfterClose.call(k),"function"==typeof o&&o()},w.off("click."+i),E?(E=!1,k.getOptions().isIframe||(b=!1),u.call(k)):(h.whichTransitionEvent&&m.off(h.whichTransitionEvent+".pluginSuffix").on(h.whichTransitionEvent+".pluginSuffix",function(n){n.target===m[0]&&(m.off(h.whichTransitionEvent+".pluginSuffix"),u.call(k))}),m.addClass(l),h.whichTransitionEvent||u.call(k),E=!1,k.getOptions().isIframe||(b=!1));return this},this._show=function(){if(!E)return this;for(var t=0;t<d.length;t++)if(d[t]===this){d.splice(t,1);break}function o(){var t=function(){n(document).off("keydown."+i).on("keydown."+i,y),e.off("click."+i).on("click."+i,S),w.off("click."+i).on("click."+i,function(){k.close.call(k,k.getOptions().forceClosing.button)}),k.getOptions().callbackAfterOpen.call(k)};h.whichTransitionEvent&&m.off(h.whichTransitionEvent+".pluginSuffix").on(h.whichTransitionEvent+".pluginSuffix",function(n){n.target===m[0]&&(m.off(h.whichTransitionEvent+".pluginSuffix"),t.call(k))}),setTimeout(function(){m.removeClass(a+" "+c)},1),h.whichTransitionEvent||t.call(k),E=!1}return k.getOptions().isDetachable||k.getOptions().isIframe?o.call(k):k._rerenderContent.call(k,function(){o.call(k)}),this},this._hide=function(t){if(E)return this;function o(){m.addClass(a),k.getOptions().callbackAfterClose.call(k),"function"==typeof t&&t()}return k.getOptions().callbackBeforeClose.call(k),n(document).off("keydown."+i),e.off("click."+i),w.off("click."+i),h.whichTransitionEvent&&m.off(h.whichTransitionEvent+".pluginSuffix").on(h.whichTransitionEvent+".pluginSuffix",function(n){n.target===m[0]&&(m.off(h.whichTransitionEvent+".pluginSuffix"),o.call(k))}),m.addClass(c),h.whichTransitionEvent||o.call(k),d.push(k),E=!0,this},k.getOptions().isPrerendered&&(m=n(O(o.html(),k.getOptions().data,k.getOptions().hasCloseButton)),w=m.find("."+s),m.addClass(c+" "+a),t.append(m),b=!0,E=!0);return o.data("goodpopup",this),this}(k,b):T.setOptions(o)})},n.goodpopup=function(n){return"undefined"!=typeof u[n]?u[n]:void 0!==n?g(n,"NOT_FOUND"):this},n.goodpopup.getPopups=function(){return u},n.goodpopup.version="2.0.0-beta.15";var w=function(){n("script[type='text/x-handlebars-template']").goodpopup()};n(function(){n('<div class="goodpopup js-goodpopup"><div class="goodpopup-inner"><div class="goodpopup-inner-content js-goodpopup-inner-content"></div></div></div>').appendTo("body").promise().done(function(){e=n(".js-goodpopup"),t=e.find(".js-goodpopup-inner-content")}).done(w)})}(jQuery);
//# sourceMappingURL=script.min.js.map