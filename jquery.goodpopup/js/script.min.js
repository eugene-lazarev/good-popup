!function(n){"use strict";function e(e,v){function w(n){var e=T.getOptions().keyCodeForClosing;"number"==typeof e&&(T.setOptions({keyCodeForClosing:[e]}),e=T.getOptions().keyCodeForClosing);for(var t=0;t<e.length;t++)n.keyCode===e[t]&&T.close.call(T,T.getOptions().forceClosing.keydown)}function m(e){var t=n(e.target);T.getOptions().isOuterClickClosing&&0===t.parents(".js-goodpopup-inner-content").length&&!t.hasClass(s)&&T.close.call(T,T.getOptions().forceClosing.click)}var k,A,T=this,b=e.attr("id"),E=n.extend(!0,{},v),y=!1,S=!1;return this.open=function(){if(p)if(this.isRendered()){if(!this.isHided())return this;n.each(u,function(n,e){if(e.isRendered()&&!e.isHided())return e._hide(function(){T.getOptions().callbackBeforeOpen.call(T),T._show.call(T)}),!1})}else n.each(u,function(n,e){if(e.isRendered()&&!e.isHided())return e._hide(function(){T.getOptions().callbackBeforeOpen.call(T),T._renderContent.call(T)}),!1});else T.getOptions().callbackBeforeOpen.call(T),T._renderContent.call(T);return this},this.close=function(n){if(!p||!this.isRendered())return this;var e=n||!1;if(d.length>0)if(e){for(var t=d.length;t>0;t--)d[t-1]._destroyContent(!1);this._destroyContent(!0)}else this._destroyContent(!1,function(){d[d.length-1].getOptions().callbackBeforeOpen.call(d[d.length-1]),d[d.length-1]._show.call(d[d.length-1])});else this._destroyContent(!0);return this},this.isRendered=function(){return y},this.isHided=function(){return S},this.setOptions=function(e){return n.isPlainObject(e)?e.hasOwnProperty("forceClosing")&&!n.isPlainObject(e.forceClosing)?g(b,"WRONG_OPTIONS",e):(e.hasOwnProperty("hasCloseButton")&&e.hasCloseButton!=T.getOptions().hasCloseButton&&T.getPopupContent()&&(e.hasCloseButton?(A.append(O),(k=A.find("."+s)).on("click."+i,function(){T.close.call(T,T.getOptions().forceClosing.button)})):(k&&0!==k.length||(k=A.find("."+s)),k.remove())),n.extend(!0,E,e),this):g(b,"WRONG_OPTIONS",e)},this.getOptions=function(){return E},this.getPopupContent=function(){return A},this.getPopupId=function(){return b},this._renderContent=function(){if(this.isRendered()&&!T.getOptions().isIframe&&!T.getOptions().isPrerendered)return this;var l=function(){if((k=A.find("."+s)).on("click."+i,function(){T.close.call(T,T.getOptions().forceClosing.button)}),n(document).off("keydown."+i).on("keydown."+i,w),t.off("click."+i).on("click."+i,m),p){e=function(){T.getOptions().callbackAfterOpen.call(T)};h.whichTransitionEvent&&A.off(h.whichTransitionEvent+".pluginSuffix").on(h.whichTransitionEvent+".pluginSuffix",function(n){n.target===A[0]&&(A.off(h.whichTransitionEvent+".pluginSuffix"),e.call(T))}),setTimeout(function(){A.removeClass(f)},1),h.whichTransitionEvent||e.call(T),y=!0,S=!1,p=!0}else{var e=function(){T.getOptions().callbackAfterOpen.call(T)};n("html").addClass("noscroll"),h.whichTransitionEvent&&t.off(h.whichTransitionEvent+".pluginSuffix").on(h.whichTransitionEvent+".pluginSuffix",function(n){n.target===t[0]&&(t.off(h.whichTransitionEvent+".pluginSuffix"),e.call(T))}),t.addClass(r),h.whichTransitionEvent||e.call(T),y=!0,S=!1,p=!0}};return T.getOptions().isPrerendered||(T.getOptions().isDetachable||T.getOptions().isIframe?void 0===A&&(A=n(C(e.html(),T.getOptions().data,T.getOptions().hasCloseButton))):A=n(C(e.html(),T.getOptions().data,T.getOptions().hasCloseButton))),p&&A.addClass(f),!T.getOptions().isPrerendered&&!T.getOptions().isIframe||T.getOptions().isIframe&&!this.isRendered()?o.append(A).promise().done(function(){l.call(T)}):(T.getOptions().isPrerendered&&this.setOptions({isPrerendered:!1}),A.removeClass(c+" "+a),l.call(T)),this},this._rerenderContent=function(t){var o=A;return k.off("click."+i),(A=n(C(e.html(),T.getOptions().data,T.getOptions().hasCloseButton))).addClass(c+" "+a),o.after(A).promise().done(function(){o.remove(),k=A.find("."+s),"function"==typeof t&&t()}),this},this._destroyContent=function(e,o){if(!T.isRendered())return this;T.getOptions().callbackBeforeClose.call(T);for(var s=0;s<d.length;s++)if(d[s]===this){d.splice(s,1);break}if(void 0!==e&&e){u=function(){T.getOptions().isIframe?A.addClass(c+" "+a).removeClass(l):T.getOptions().isDetachable?A.detach().removeClass(c+" "+a+" "+f+" "+l):(A.remove(),A=undefined),T.getOptions().callbackAfterClose.call(T)};t.off("click."+i),n(document).off("keydown."+i),k.off("click."+i),h.whichTransitionEvent&&t.off(h.whichTransitionEvent+".pluginSuffix").on(h.whichTransitionEvent+".pluginSuffix",function(n){n.target===t[0]&&(t.off(h.whichTransitionEvent+".pluginSuffix"),u.call(T))}),t.removeClass(r),h.whichTransitionEvent||u.call(T),n("html").removeClass("noscroll"),p=!1,S=!1,T.getOptions().isIframe||(y=!1)}else{var u=function(){T.getOptions().isIframe?A.addClass(c+" "+a).removeClass(l):T.getOptions().isDetachable?A.detach().removeClass(c+" "+a+" "+f+" "+l):(A.remove(),A=undefined),T.getOptions().callbackAfterClose.call(T),"function"==typeof o&&o()};k.off("click."+i),S?(S=!1,T.getOptions().isIframe||(y=!1),u.call(T)):(h.whichTransitionEvent&&A.off(h.whichTransitionEvent+".pluginSuffix").on(h.whichTransitionEvent+".pluginSuffix",function(n){n.target===A[0]&&(A.off(h.whichTransitionEvent+".pluginSuffix"),u.call(T))}),A.addClass(l),h.whichTransitionEvent||u.call(T),S=!1,T.getOptions().isIframe||(y=!1))}return this},this._show=function(){function e(){var e=function(){n(document).off("keydown."+i).on("keydown."+i,w),t.off("click."+i).on("click."+i,m),k.off("click."+i).on("click."+i,function(){T.close.call(T,T.getOptions().forceClosing.button)}),T.getOptions().callbackAfterOpen.call(T)};h.whichTransitionEvent&&A.off(h.whichTransitionEvent+".pluginSuffix").on(h.whichTransitionEvent+".pluginSuffix",function(n){n.target===A[0]&&(A.off(h.whichTransitionEvent+".pluginSuffix"),e.call(T))}),setTimeout(function(){A.removeClass(a+" "+c)},1),h.whichTransitionEvent||e.call(T),S=!1}if(!S)return this;for(var o=0;o<d.length;o++)if(d[o]===this){d.splice(o,1);break}return T.getOptions().isDetachable||T.getOptions().isIframe?e.call(T):T._rerenderContent.call(T,function(){e.call(T)}),this},this._hide=function(e){function o(){A.addClass(a),T.getOptions().callbackAfterClose.call(T),"function"==typeof e&&e()}return S?this:(T.getOptions().callbackBeforeClose.call(T),n(document).off("keydown."+i),t.off("click."+i),k.off("click."+i),h.whichTransitionEvent&&A.off(h.whichTransitionEvent+".pluginSuffix").on(h.whichTransitionEvent+".pluginSuffix",function(n){n.target===A[0]&&(A.off(h.whichTransitionEvent+".pluginSuffix"),o.call(T))}),A.addClass(c),h.whichTransitionEvent||o.call(T),d.push(T),S=!0,this)},T.getOptions().isPrerendered&&(A=n(C(e.html(),T.getOptions().data,T.getOptions().hasCloseButton)),k=A.find("."+s),A.addClass(c+" "+a),o.append(A),y=!0,S=!0),e.data("goodpopup",this),this}var t,o,i="goodpopup",s="js-goodpopup-close",r="goodpopup_visible",l="goodpopup-inner-content_destroyed",c="goodpopup-inner-content-element_hided",a="goodpopup-inner-content-element_hidedfull",f="goodpopup-inner-content-element_pseudohided",p=!1,u={},d=[],h={isSVGSupported:function(){return!!("object"==typeof Modernizr&&"boolean"==typeof Modernizr.inlinesvg&&Modernizr.inlinesvg||function(){var n=document.createElement("div");return n.innerHTML="<svg/>","http://www.w3.org/2000/svg"==(n.firstChild&&n.firstChild.namespaceURI)}())}(),whichTransitionEvent:function(){var n,e=document.createElement("div"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",WebkitTransition:"webkitTransitionEnd"};for(n in t)if("undefined"!=typeof e.style[n])return t[n];return!1}()},g=function(e,t,o){function i(n){"undefined"!=typeof console&&"function"==typeof console.error?console.error(n):alert(n)}switch(t){case"NOT_FOUND":var s=n("#"+e);return s.length>0?(i("Please initialize popup `"+e+"`: `$('#"+e+"').goodpopup();`"),s):(i("Popup template `"+e+"` doesn't exist"),e);case"WRONG_OPTIONS":return i("Wrong options object in method `setOptions` on popup `"+e+"`"),o;default:return function(n){"undefined"!=typeof console&&"function"==typeof console.trace?console.trace(n):alert(n)}("Problem with popup"),e}},v=function(){return n('<div class="goodpopup js-goodpopup"><div class="goodpopup-inner"><div class="goodpopup-inner-content js-goodpopup-inner-content"></div></div></div>').appendTo("body").promise().done(function(){t=n(".js-goodpopup"),o=t.find(".js-goodpopup-inner-content")})},O='<span class="goodpopup-close js-goodpopup-close">'+(h.isSVGSupported?'<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAIVBMVEUAAAD////////////////////////////////////////PIev5AAAACnRSTlMAMO9gn88Q369Agi28KgAAAQtJREFUeAGl10FOw1AMRVEnaZLi/S8YoY/0ACMOUt/w1+cOOqlaa9ve51X/3nX2vVX24ftrwb573757FIZfhfhV2MqrbfkUls8TNs7z4MI8//Hgwjw/u10YPufV7cL0WT1RgO+6Thf+8M9CAf5RhQL9+ggFeBTgUYBHgR6FPupzR8OjAI8CPAvyLsC7AM+CvQvza0GBHgV77LB3wd4FexfsXbB/PWDvgr0L9i7Ys2Df/faCxy8vPArwKMCjIH8cKMhXoUCPAj0K9CjYo2CPgj0K9tnjtwI9Cudl74I9Crc8CkWPQu3wKNy17fCzMP402c9CfAr2KcSnAD8K8SnQpxCfgn0K8Sns9inEvwMkUkuut7bS3AAAAABJRU5ErkJggg==" alt="" class="goodpopup-close__png"/>':'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" enable-background="new 0 0 16 16" class="goodpopup-close-svg"><path class="goodpopup-close-svg__path" d="m15.8 13.5l-5.4-5.5 5.5-5.4c.2-.2.2-.6 0-.8l-1.6-1.6c-.1-.1-.3-.2-.4-.2-.2 0-.3.1-.4.2l-5.5 5.4-5.5-5.4c-.1-.1-.2-.2-.4-.2s-.3.1-.4.2l-1.5 1.5c-.2.2-.2.6 0 .8l5.4 5.5-5.5 5.5c0 .1-.1.2-.1.4 0 .2.1.3.2.4l1.6 1.6c.1.1.2.1.4.1.1 0 .3-.1.4-.2l5.4-5.4 5.4 5.5c.1.1.3.2.4.2.1 0 .3-.1.4-.2l1.6-1.6c.1-.1.2-.3.2-.4 0-.2-.1-.3-.2-.4"></path></svg>')+"</span>",C=function(n,e,t){return'<div class="goodpopup-inner-content-element '+(t?"goodpopup-inner-content-element_withclosebutton":"")+'">'+Handlebars.compile(n)("object"!=typeof e?{}:e)+(t?O:"")+"</div>"},w={callbackBeforeOpen:function(){},callbackAfterOpen:function(){},callbackBeforeClose:function(){},callbackAfterClose:function(){},isPrerendered:!1,isIframe:!1,isDetachable:!1,isOuterClickClosing:!0,hasCloseButton:!0,keyCodeForClosing:27,forceClosing:{click:!0,keydown:!0,button:!1},data:{}};n.fn.goodpopup=function(t){return this.each(function(o,i){var s=n(i),r=s.attr("id"),l=u[r],c=n.extend(!0,{},w,t,s.data());void 0===l?u[r]=new e(s,c):l.setOptions(t)})},n.goodpopup=function(n){return"undefined"!=typeof u[n]?u[n]:void 0!==n?g(n,"NOT_FOUND"):this},n.goodpopup.getPopups=function(){return u},n.goodpopup.version="2.0.0-beta.14";var m=function(){n("script[type='text/x-handlebars-template']").goodpopup()};n(function(){v().done(m)})}(jQuery);
//# sourceMappingURL=script.min.js.map